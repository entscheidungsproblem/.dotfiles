#!/usr/bin/env bash

# SSL
if git remote -v | grep git@github.com > /dev/null; then
	url=$(git remote -v | grep git@github.com | grep fetch | head -1 | cut -f2 | cut -d' ' -f1 | sed -e's/:/\//' -e 's/git@/https:\/\//' | sed 's/\.git/\/tree\//g')
# HTTPS
elif git remote -v | grep https://github.com > /dev/null; then
	url=$(git remote -v | grep https://github.com | grep fetch | head -1 | cut -f2 | cut -d' ' -f1 | sed 's/\.git/\/tree\//g')
fi

echo $url >> ~/.zsh_test
branch=$(git branch | grep -F '*' | sed 's/\* //g')
echo $branch >> ~/.zsh_test
open "${url}${branch}"
